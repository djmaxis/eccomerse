<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EEV Store · Órdenes</title>
  <!-- SOLO estilos base del cpanel -->
  <link rel="stylesheet" href="css/cpanel/cpanel.css">
  <link rel="stylesheet" href="css/cpanel/cpanelorder.css"> 

</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="brand"><h1>EEV Store</h1></div>
    <nav class="nav">
      <ul>
        <li><a href="cpanel.html"><span class="emoji">📊</span> Dashboard</a></li>
        <li><a href="cpanel_productos.html"><span class="emoji">📦</span> Productos</a></li>
        <li class="active"><a href="#"><span class="emoji">📋</span> Órdenes</a></li>
        <li><a href="cpanelshipping.html"><span class="emoji">🚚</span> Shipping</a></li>
        <li><a href="#"><span class="emoji">📈</span> Gráficas</a></li>
        <li><a href="#"><span class="emoji">🔔</span> Centro Notificaciones</a></li>
        <li><a href="#"><span class="emoji">⚙️</span> Ajustes</a></li>
      </ul>
    </nav>
  </aside>

  <!-- Main -->
  <div class="main-wrap ordenes-page"><!-- << SCOPED -->
    <header class="header">
      <h2>Órdenes</h2>
      <div class="userbox">
        <div class="user-texts">
          <p id="userLabel" class="user-name">Usuario</p>
          <p class="user-role">Administrator</p>
        </div>
        <a id="btnLogout" class="btn-logout" href="#">Cerrar Sesión</a>
      </div>
    </header>

    <!-- Contenido -->
    <main class="content">
      <!-- Tarjetas de métricas -->
      <section class="stats">
        <article class="stat-card" style="background:#22c55e;">
          <div class="stat-head">
            <h3>Sumatoria de ventas</h3>
            <span class="emoji">💰</span>
          </div>
          <div class="stat-value" id="statSumVentas">$0.00</div>
          <p class="stat-desc">Total de montos de órdenes filtradas</p>
        </article>

        <article class="stat-card" style="background:#0ea5e9;">
          <div class="stat-head">
            <h3>Sumatoria de ganancias</h3>
            <span class="emoji">📈</span>
          </div>
          <div class="stat-value" id="statSumGanancias">$0.00</div>
          <p class="stat-desc">Monto - Costo de las órdenes filtradas</p>
        </article>

        <article class="stat-card" style="background:#6366f1;">
          <div class="stat-head">
            <h3>Órdenes filtradas</h3>
            <span class="emoji">🧮</span>
          </div>
          <div class="stat-value" id="statCount">0</div>
          <p class="stat-desc">Cantidad de resultados</p>
        </article>
      </section>

      <!-- Filtros de órdenes -->
      <section class="card">
        <h3 class="card-title">Filtros de órdenes</h3>
        <div class="filters">
          <div class="field">
            <label for="fini">Fecha inicio</label>
            <input id="fini" type="date" />
          </div>
          <div class="field">
            <label for="ffin">Fecha fin</label>
            <input id="ffin" type="date" />
          </div>
<!-- Filtro por Estatus (checkboxes) -->
<div id="festGroup" class="estatus-group" style="display:flex;gap:10px;flex-wrap:wrap">
  <label><input type="checkbox" name="fest" value="Pagada" checked> Pagada</label>
  <label><input type="checkbox" name="fest" value="Enviada" checked> Enviada</label>
  <label><input type="checkbox" name="fest" value="Completada" checked> Completada</label>
  <label><input type="checkbox" name="fest" value="Cancelada" checked> Cancelada</label>
</div>
          <div class="field">
            <label for="fcli">Buscar por cliente</label>
            <input id="fcli" type="text" placeholder="Nombre, correo..." />
          </div>
          <div class="field">
            <label for="ford">Buscar por No. orden</label>
            <input id="ford" type="text" placeholder="ORD-YYYY-MM-DD#00000001" />
          </div>
          <div class="field">
            <button id="btnFiltrar" class="btn btn-primary">Aplicar filtros</button>
          </div>
          <div class="field">
            <button id="btnLimpiar" class="btn btn-outline">Limpiar</button>
          </div>
        </div>
      </section>

      <!-- Tabla de órdenes -->
      <section class="card" style="margin-top:16px;">
        <h3 class="card-title">Listado de órdenes</h3>
        <div class="table-wrap">
          <table class="table" id="tblOrdenes">
            <thead>
              <tr>
                <th>No. Orden</th>
                <th>Cliente</th>
                <th>Fecha</th>
                <th>Estatus</th>
                <th>Tracking</th>
                <th>Ganancia</th>
                <th>Costo</th>
                <th>Monto</th>
                <th style="width:200px;">Acciones</th>
              </tr>
            </thead>
            <tbody><!-- poblado por JS --></tbody>
          </table>
        </div>
      </section>
    </main>
  </div>

<script>
  // evita renderizar tarjetas y estilos en cpanel
  window.ORDERS_SILENT = true;
</script>
<script src="js/orders/get_data_orders.js" defer></script>

<script>window.CPANEL_ORDENES_SOURCE = 'mirror';</script>
<script src="js/cpanel/cpanel.js" defer></script>
<script src="js/cpanel/cpanel_get_data_orders.js" defer></script>
<script src="js/cpanel/cpanelOrdenes.js" defer></script>
<script src="js/cpanel/cpanelOrdenesFiltros.js" defer></script>

</body>
</html>
